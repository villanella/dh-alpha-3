rules:
  validators:
    dochub.welcome:
      title: нет главной страницы
      description: "Welcome page validator"
      source: >                                       # Источник данных об ошибках. В данном случае JSONata запрос
        (
            /*debugger;*/
            $manifest := $;
            $matcher := /dochub.welcome/; /*Задаем параметр фильтрации запроса*/
            [$not([$manifest.docs.$sift(function($v, $k) {$k ~> $matcher}).$spread().{"count": 1}]) ? {
              "uid": "$dochub-welcome-not-found",
              "title": "Не найден документа главной страницы",
              "description": "Не найден документа главной страницы",
              "correction": "Подключите свою главную страницу в соответствии с инструкцией описанной при входе",
              "location": "@document/dochub.welcome",
              "path": "/docs/dochub.welcome"  
            }]; 
        )

